import React, { useState, useRef, useEffect } from "react";
import { motion, AnimatePresence } from "framer-motion";

const interestsList = [
  "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç", "–ù–µ–π—Ä–æ—Å–µ—Ç–∏", "–ò–ò-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã",
  "Data Science", "–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ", "–ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", "Web",
  "Frontend", "Backend", "Fullstack", "UX/UI –¥–∏–∑–∞–π–Ω", "–ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
  "–ì–µ–π–º–¥–µ–≤", "AR/VR", "3D-–≥—Ä–∞—Ñ–∏–∫–∞", "DevOps", "Linux", "GitHub", "Open Source",
  "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è", "–°–∏—Å—Ç–µ–º–Ω–æ–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ", "–û–ª–∏–º–ø–∏–∞–¥–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ",
  "–ê–ª–≥–æ—Ä–∏—Ç–º—ã", "–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö", "–û–±–ª–∞—á–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞", "–ë–ª–æ–∫—á–µ–π–Ω",
  "–§—Ä–µ–π–º–≤–æ—Ä–∫–∏", "API", "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ü–û", "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ", "Low-code / No-code",
  "–ü—Ä–æ–¥–∞–∫—Ç-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç", "–°—Ç–∞—Ä—Ç–∞–ø—ã", "IoT", "–†–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∞", "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
  "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö", "–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ", "–ö–≤–∞–Ω—Ç–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è",
  "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ –∫—É—Ä—Å—ã", "–•–∞–∫–∞—Ç–æ–Ω—ã", "IT-—Å–æ–æ–±—â–µ—Å—Ç–≤–∞", "–§—Ä–∏–ª–∞–Ω—Å", "–ö–∞—Ä—å–µ—Ä–∞ –≤ IT", "–î—Ä—É–≥–æ–µ"
];

const borderColors = [
  "#ff5f5f", "#ffae42", "#ffea00", "#7ed957", "#5ce1e6",
  "#38b6ff", "#5b5bff", "#b15fff", "#ff66c4", "#ff914d"
];

const Moda = ({ onClose }) => {
  const [page, setPage] = useState(1);
  const [isScrolledToBottom, setIsScrolledToBottom] = useState(false);
  const [birthDate, setBirthDate] = useState("");
  const [email, setEmail] = useState("");
  const [selectedInterests, setSelectedInterests] = useState([]);
  const scrollRef = useRef(null);

  // ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –º–æ–¥–∞–ª–∫—É
  const [shouldShow, setShouldShow] = useState(() => {
    return !localStorage.getItem("atomglideBetaAccepted");
  });

  const handleScroll = () => {
    const el = scrollRef.current;
    if (el) {
      const isBottom = el.scrollTop + el.clientHeight >= el.scrollHeight - 1;
      setIsScrolledToBottom(isBottom);
    }
  };

  useEffect(() => {
    const el = scrollRef.current;
    if (el && page === 1) {
      el.addEventListener("scroll", handleScroll);
      return () => el.removeEventListener("scroll", handleScroll);
    }
  }, [page]);

  const toggleInterest = (interest) => {
    setSelectedInterests((prev) => {
      if (prev.includes(interest)) {
        return prev.filter((i) => i !== interest);
      } else if (prev.length < 5) {
        return [...prev, interest];
      } else {
        return prev;
      }
    });
  };

  const handleFinish = () => {
    // ‚úÖ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–º–µ—Ç–∫—É, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –ø—Ä–æ—à—ë–ª –º–æ–¥–∞–ª–∫—É
    localStorage.setItem("atomglideBetaAccepted", "true");

    // –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
    localStorage.setItem(
      "atomglideUserData",
      JSON.stringify({ birthDate, email, interests: selectedInterests })
    );

    // –≤—ã–∑—ã–≤–∞–µ–º –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏
    onClose?.();
    setShouldShow(false);
  };

  const pageVariants = {
    initial: { opacity: 0, scale: 0.96, y: 10 },
    animate: { opacity: 1, scale: 1, y: 0, transition: { duration: 0.3, ease: "easeOut" } },
    exit: { opacity: 0, scale: 0.96, y: -10, transition: { duration: 0.25, ease: "easeIn" } },
  };

  // ‚úÖ –µ—Å–ª–∏ –º–æ–¥–∞–ª–∫—É –Ω–µ –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏–º
  if (!shouldShow) return null;

  return (
    <div className="modal-overlay">
      <div className="modal-content">
        <AnimatePresence mode="wait">
          {page === 1 && (
            <motion.div key="page1" {...pageVariants}>
              <center><img src="1.png" className="log-mod" alt="logo" /></center>
              <h2 className="title-mod">AtomGlide 12 Beta 1</h2>
              <div className="win-mod" ref={scrollRef}>
             <p className="win-mod-text"> <strong>–°–û–ì–õ–ê–®–ï–ù–ò–ï –û –ë–ï–¢–ê-–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò –ü–†–û–î–£–ö–¢–ê ATOMGLIDE 12</strong><br /><br /> –ù–∞—Å—Ç–æ—è—â–∏–π –¥–æ–∫—É–º–µ–Ω—Ç —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç —É—Å–ª–æ–≤–∏—è —É—á–∞—Å—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∑–∞–∫—Ä—ã—Ç–æ–º –±–µ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è <strong>AtomGlide 12</strong> (–¥–∞–ª–µ–µ ‚Äî ¬´–ü—Ä–æ–¥—É–∫—Ç¬ª). –£—á–∞—Å—Ç–≤—É—è –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏, –≤—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ, —á—Ç–æ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω—ã, –ø–æ–Ω–∏–º–∞–µ—Ç–µ –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ —É—Å–ª–æ–≤–∏—è –¥–∞–Ω–Ω–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è.<br /><br /> <strong>1. –¶–ï–õ–¨ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø</strong><br /> 1.1. –û—Å–Ω–æ–≤–Ω–æ–π —Ü–µ–ª—å—é –±–µ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ü—Ä–æ–¥—É–∫—Ç–∞.<br /> 1.2. –í —Ä–∞–º–∫–∞—Ö —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞:<br /> ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã —á–∞—Ç–æ–≤ –∏ –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏;<br /> ‚Äî —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Å–æ–∫–µ—Ç-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∏ —Å–µ—Ç–µ–≤—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π;<br /> ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞–º–∏;<br /> ‚Äî –æ–±—â–µ–π –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏, —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.<br /><br /> <strong>2. –°–¢–ê–¢–£–° –í–ï–†–°–ò–ò</strong><br /> 2.1. –ë–µ—Ç–∞-–≤–µ—Ä—Å–∏—è AtomGlide 12 –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ–∏–Ω–∞–ª—å–Ω—ã–º –ø—Ä–æ–¥—É–∫—Ç–æ–º.<br /> 2.2. –ü—Ä–æ–¥—É–∫—Ç –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—à–∏–±–∫–∏, –Ω–µ–¥–æ—Ä–∞–±–æ—Ç–∫–∏, —Å–±–æ–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.<br /> 2.3. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–±–æ–∏, –ø–æ—Ç–µ—Ä—é –¥–∞–Ω–Ω—ã—Ö, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É —Ñ—É–Ω–∫—Ü–∏–π –∏–ª–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–µ.<br /><br /> <strong>3. –ö–û–ù–§–ò–î–ï–ù–¶–ò–ê–õ–¨–ù–û–°–¢–¨</strong><br /> 3.1. –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –±–µ—Ç–∞-–≤–µ—Ä—Å–∏–µ–π AtomGlide 12, –≤–∫–ª—é—á–∞—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã, –ª–æ–≥–∏, –æ—Ç—á—ë—Ç—ã –æ–± –æ—à–∏–±–∫–∞—Ö, –∞ —Ç–∞–∫–∂–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏, —è–≤–ª—è–µ—Ç—Å—è <strong>–∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π</strong>.<br /> 3.2. –£—á–∞—Å—Ç–Ω–∏–∫ –æ–±—è–∑—É–µ—Ç—Å—è –Ω–µ —Ä–∞–∑–≥–ª–∞—à–∞—Ç—å, –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –Ω–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º –ª—é–±—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –ø–æ–ª—É—á–µ–Ω–Ω—É—é –≤ —Ö–æ–¥–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.<br /> 3.3. –õ—é–±–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –±–µ—Ç–∞-—Ç–µ—Å—Ç–∞ (–≤–∏–¥–µ–æ, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –æ–ø–∏—Å–∞–Ω–∏—è, –∫–æ–¥—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç.–ø.) –±–µ–∑ –ø–∏—Å—å–º–µ–Ω–Ω–æ–≥–æ —Å–æ–≥–ª–∞—Å–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ AtomGlide —Å—Ç—Ä–æ–≥–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ.<br /><br /> <strong>4. –û–ë–Ø–ó–ê–ù–ù–û–°–¢–ò –£–ß–ê–°–¢–ù–ò–ö–ê</strong><br /> 4.1. –£—á–∞—Å—Ç–Ω–∏–∫ –æ–±—è–∑—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ü—Ä–æ–¥—É–∫—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ —Ü–µ–ª—è—Ö —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.<br /> 4.2. –£—á–∞—Å—Ç–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∏ –æ–±—ä–µ–∫—Ç–∏–≤–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –æ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º—ã, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏—Ö –æ—à–∏–±–∫–∞—Ö –∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏.<br /> 4.3. –£—á–∞—Å—Ç–Ω–∏–∫—É –∑–∞–ø—Ä–µ—â–µ–Ω–æ:<br /> ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ü—Ä–æ–¥—É–∫—Ç –¥–ª—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö, –ø—É–±–ª–∏—á–Ω—ã—Ö –∏–ª–∏ –∏–Ω—ã—Ö —Ü–µ–ª–µ–π, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º;<br /> ‚Äî –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é, –¥–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—é –∏–ª–∏ —Ä–µ–≤–µ—Ä—Å-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥ –ü—Ä–æ–¥—É–∫—Ç–∞;<br /> ‚Äî –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ü—Ä–æ–¥—É–∫—Ç—É —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º;<br /> ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—è–∑–≤–∏–º–æ—Å—Ç–∏, –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Å–±–æ–∏ –∏–ª–∏ –∏–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, –Ω–∞–Ω–æ—Å—è—â–∏–µ –≤—Ä–µ–¥ —Å–∏—Å—Ç–µ–º–µ.<br /><br /> <strong>5. –°–ë–û–† –ò –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –î–ê–ù–ù–´–•</strong><br /> 5.1. –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ: —Ç–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –≤–µ—Ä—Å–∏—è –û–°, —Å–µ—Ç–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞, —Å–≤–µ–¥–µ–Ω–∏—è –æ —Å–±–æ—è—Ö –∏ —Ç.–¥.<br /> 5.2. –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ü—Ä–æ–¥—É–∫—Ç–∞.<br /> 5.3. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–µ—Å–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ AtomGlide.<br /><br /> <strong>6. –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–¨</strong><br /> 6.1. –ü—Ä–æ–¥—É–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —É—Å–ª–æ–≤–∏—è—Ö ¬´–∫–∞–∫ –µ—Å—Ç—å¬ª (¬´as is¬ª), –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –≥–∞—Ä–∞–Ω—Ç–∏–π.<br /> 6.2. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±—ã–µ –ø—Ä—è–º—ã–µ –∏–ª–∏ –∫–æ—Å–≤–µ–Ω–Ω—ã–µ —É–±—ã—Ç–∫–∏, –≤–æ–∑–Ω–∏–∫—à–∏–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ—Ç–∞-–≤–µ—Ä—Å–∏–∏.<br /> 6.3. –ò—Å–ø–æ–ª—å–∑—É—è –ü—Ä–æ–¥—É–∫—Ç, —É—á–∞—Å—Ç–Ω–∏–∫ —Å–æ–≥–ª–∞—à–∞–µ—Ç—Å—è —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ—à–∏–±–æ–∫, –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏–ª–∏ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö.<br /><br /> <strong>7. –ó–ê–í–ï–†–®–ï–ù–ò–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø</strong><br /> 7.1. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –±–µ—Ç–∞-–≤–µ—Ä—Å–∏–∏ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.<br /> 7.2. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ü—Ä–æ–¥—É–∫—Ç–æ–º, –ø–æ–¥–ª–µ–∂–∞—Ç —É–¥–∞–ª–µ–Ω–∏—é —É—á–∞—Å—Ç–Ω–∏–∫–æ–º.<br /><br /> <strong>8. –ó–ê–ö–õ–Æ–ß–ò–¢–ï–õ–¨–ù–´–ï –ü–û–õ–û–ñ–ï–ù–ò–Ø</strong><br /> 8.1. –£—á–∞—Å—Ç–∏–µ –≤ –±–µ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —è–≤–ª—è–µ—Ç—Å—è –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω—ã–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ –ø–æ –∂–µ–ª–∞–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç.<br /> 8.2. –ü—Ä–æ–¥–æ–ª–∂–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ü—Ä–æ–¥—É–∫—Ç–∞ –ø–æ—Å–ª–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞, –≤—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ —Å–≤–æ—ë —Å–æ–≥–ª–∞—Å–∏–µ —Å–æ –≤—Å–µ–º–∏ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏.<br /><br /> –ü—Ä–æ–ª–∏—Å—Ç–∞–π—Ç–µ —Ç–µ–∫—Å—Ç –¥–æ –∫–æ–Ω—Ü–∞, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É. </p>
              </div>
              <center>
                <button
                  onClick={() => setPage(2)}
                  className="bth-mod"
                  disabled={!isScrolledToBottom}
                >
                  –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                </button>
                {!isScrolledToBottom && (
                  <p className="scroll-hint">–î–æ—á–∏—Ç–∞–π—Ç–µ –¥–æ –∫–æ–Ω—Ü–∞, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å</p>
                )}
              </center>
            </motion.div>
          )}

          {page === 2 && (
            <motion.div key="page2" {...pageVariants}>
              <h2 className="title-mod">–í–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è üéÇ</h2>
              <p style={{ textAlign: "center", color: "#bbb", marginBottom: "15px" }}>
                –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–º –ø–æ–¥–±–∏—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç, –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤–∞—à–µ–º—É –≤–æ–∑—Ä–∞—Å—Ç—É.
              </p>
              <center>
                <input
                  type="date"
                  value={birthDate}
                  onChange={(e) => setBirthDate(e.target.value)}
                  className="input-mod"
                  style={{
                    borderRadius: "10px",
                    padding: "8px",
                    background: "#2a2a2a",
                    color: "white",
                    border: "1px solid #555",
                  }}
                />
                <br />
                <button
                  onClick={() => setPage(3)}
                  className="bth-mod"
                  disabled={!birthDate}
                >
                  –î–∞–ª–µ–µ
                </button>
              </center>
            </motion.div>
          )}

          {page === 3 && (
            <motion.div key="page3" {...pageVariants}>
              <h2 className="title-mod">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à Email üìß</h2>
              <p style={{ textAlign: "center", color: "#bbb", marginBottom: "15px" }}>
                –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ—á—Ç—É —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö.
              </p>
              <center>
                <input
                  type="email"
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                  className="input-mod"
                  placeholder="you@example.com"
                  style={{
                    borderRadius: "10px",
                    padding: "8px",
                    background: "#2a2a2a",
                    color: "white",
                    border: "1px solid #555",
                  }}
                />
                <br />
                <button
                  onClick={() => setPage(4)}
                  className="bth-mod"
                  disabled={!email}
                >
                  –î–∞–ª–µ–µ
                </button>
              </center>
            </motion.div>
          )}

          {page === 4 && (
            <motion.div key="page4" {...pageVariants}>
              <h2 className="title-mod">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã üéØ</h2>
              <p style={{ textAlign: "center", color: "#bbb", marginBottom: "15px", marginTop: "-20px" }}>
                –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –¥–æ 5 –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤.
              </p>

              <div
                className="bubble-container"
                style={{
                  display: "flex",
                  flexWrap: "wrap",
                  justifyContent: "center",
                  gap: "8px",
                  maxHeight: "375px",
                  overflowY: "auto",
                  padding: "10px 6px",
                  width: "100%",
                  position: "relative",
                  boxShadow:
                    "inset 0 20px 20px -20px rgba(0, 0, 0, 0.6), inset 0 -20px 20px -20px rgba(0, 0, 0, 0.6)",
                  scrollbarWidth: "thin",
                  scrollbarColor: "#555 transparent",
                }}
              >
                {interestsList.map((interest, index) => {
                  const isSelected = selectedInterests.includes(interest);
                  const color = borderColors[index % borderColors.length];
                  return (
                    <div
                      key={interest}
                      className="bubble"
                      onClick={() => toggleInterest(interest)}
                      style={{
                        padding: "6px 12px",
                        borderRadius: "50px",
                        border: `2px solid ${color}`,
                        cursor: "pointer",
                        background: isSelected ? color : "transparent",
                        color: isSelected ? "#000" : "#ddd",
                        fontSize: "14px",
                        transition: "all 0.2s ease",
                        userSelect: "none",
                      }}
                    >
                      {interest}
                    </div>
                  );
                })}
              </div>

              <center>
                <button onClick={handleFinish} className="bth-mod">
                  –ó–∞–≤–µ—Ä—à–∏—Ç—å
                </button>
              </center>
            </motion.div>
          )}
        </AnimatePresence>
      </div>
    </div>
  );
};

export default Moda;
